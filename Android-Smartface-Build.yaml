---
directories:
- AC_OUTPUT_DIR
- AC_SOURCE
steps:
- componentType: appcircle_activate_ssh_key
  componentVersion: "1.0.0"
  stepName: Activate SSH Private Key
  enabled: true
  inputs:
  - AC_REPOSITORY_SSH_KEY: $AC_REPOSITORY_SSH_KEY
  outputs:
  - SSH_AUTH_SOCK: SSH_AUTH_SOCK
- componentType: appcircle_git
  componentVersion: "1.0.0"
  stepName: Git Clone
  enabled: true
  inputs:
  - AC_GIT_URL: "$AC_REPOSITORY_URL"
  - AC_GIT_LFS: "false"
  - AC_GIT_BRANCH: "$AC_BRANCH_NAME"
  - AC_GIT_COMMIT: "$AC_COMMIT_HASH"
  outputs:
  - AC_REPOSITORY_DIR: "AC_REPOSITORY_DIR"
- componentType: appcircle_custom_script
  componentVersion: "1.0.0"
  stepName: Custom Script
  enabled: true
  inputs:
  - Execute: "ruby"
  - Script: |
      puts "___ Hello world! ___"
- componentType: appcircle_smartface_android
  componentVersion: "1.0.0"
  stepName: Smartface Generator
  enabled: true
  inputs:
  - AC_REPOSITORY_DIR: "$AC_REPOSITORY_DIR"
  - AC_SMARTFACE_CLI_VERSION: ""
  - AC_SMARTFACE_PLAYER_VERSION: ""
  outputs:
  - AC_MODULE: AC_MODULE
  - AC_VARIANTS: AC_VARIANTS 
  - AC_PROJECT_PATH: AC_PROJECT_PATH
- componentType: appcircle_build_android
  componentVersion: "1.0.0"
  stepName: Android Build
  enabled: true
  inputs:
  - AC_MODULE: $AC_MODULE
  - AC_VARIANTS: $AC_VARIANTS 
  - AC_OUTPUT_TYPE: $AC_OUTPUT_TYPE
  - AC_REPOSITORY_DIR: $AC_REPOSITORY_DIR
  - AC_PROJECT_PATH: $AC_PROJECT_PATH
  outputs:
  - AC_APK_PATH: AC_APK_PATH
  - AC_AAB_PATH: AC_AAB_PATH
- componentType: appcircle_sign_android
  componentVersion: "1.0.0"
  stepName: Android Sign
  enabled: true
  inputs:  
  - AC_APK_PATH: $AC_APK_PATH
  - AC_AAB_PATH: $AC_AAB_PATH
  - AC_ANDROID_KEYSTORE_PATH: $AC_ANDROID_KEYSTORE_PATH
  - AC_ANDROID_KEYSTORE_PASSWORD: $AC_ANDROID_KEYSTORE_PASSWORD
  - AC_ANDROID_ALIAS: $AC_ANDROID_ALIAS
  - AC_ANDROID_ALIAS_PASSWORD: $AC_ANDROID_ALIAS_PASSWORD
  outputs:
  - AC_SIGNED_APK_PATH: AC_SIGNED_APK_PATH
  - AC_SIGNED_AAB_PATH: AC_SIGNED_AAB_PATH
- componentType: appcircle_app_analyzer_android
  componentVersion: "1.0.0"
  stepName: Android App Analyzer
  enabled: true
  outputs:
  - AC_ANDROID_APP_ANALYSIS_PATH: AC_ANDROID_APP_ANALYSIS_PATH